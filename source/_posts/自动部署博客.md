---
title: 自动部署博客
tags:
  - 2017年
categories:
  - 技巧
  - shell
date: 2017-09-07 16:25:15
---

不想用第三方的travis-ci实现自动部署博客，但是gitbub提供的钩子折腾了半天弄不好

就用刚学的部分shell命令写了一个,用git bash 运行

日后优化

```shell
hexo generate

if [ $? -ne 0 ]
then
    echo "failed hexo generate"
    echo $?
    exit
fi

git add .

if [ $? -ne 0 ]
then
    echo "failed to git add ."
    echo $?
    exit
fi

git commit -a -m "auto commit by ali at `date +%Y%m%d`"

if [ $? -ne 0 ]
then
    echo "failed to git commit "
    echo $?
    exit
fi

git push origin master


if [ $? -ne 0 ]
then
    echo "failed to git push "
    echo $?
    exit
fi

mv -f public/* ../Ali1213.github.io


if [ $? -ne 0 ]
then
    echo "failed to mv "
    echo $?
    exit
fi


cd  ../Ali1213.github.io


if [ $? -ne 0 ]
then
    echo "failed to cd  "
    echo $?
    exit
fi


git add .


if [ $? -ne 0 ]
then
    echo "failed to git add "
    echo $?
    exit
fi

git commit -a -m "auto commit by ali at `date +%Y%m%d`"


if [ $? -ne 0 ]
then
    echo "failed to git commit "
    echo $?
    exit
fi

git push origin master

if [ $? -ne 0 ]
then
    echo "failed to 
git push  "
    echo $?
    exit
fi
```